"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3878],{34813:(e,t,n)=>{n.d(t,{v:()=>f});var a=n(6479),i=n.n(a),l=n(67154),r=n.n(l),s=n(67294),o=n(94184),d=n.n(o),c=n(2603),u=n(24209),m=n(38910),k=n(20657),v=n(83692),p=n(1496),S=n(45287),y=n(63962);const b="I3oc8sxg8Duq4kYUGnMo",g="LEZf9K5hG4hfCKfgr5Xo",N=["uri"],E=e=>s.createElement(c.e,r()({semanticColor:"textPositive"},e)),f=e=>{let{uri:t}=e,n=i()(e,N);const{isEnhanced:a,toggleIsEnhanced:l}=(0,S.U)(t),{spec:o,logger:c}=(0,p.fU)(m.createDesktopEnhanceButtonEventFactory,{data:{uri:t}}),f=s.createElement(v.w,{label:a?k.ag.get("web-player.enhance.button_aria_label_enhanced"):k.ag.get("web-player.enhance.button_aria_label_not_enhanced")},s.createElement(u.P,r()({buttonSize:"sm",className:d()(b,{[g]:a})},n,{iconLeading:a?E:void 0,onClick:()=>{c.logInteraction(a?o.hitUnenhanceContext({contextToBeUnenhanced:t}):o.hitEnhanceContext({contextToBeEnhanced:t})),l()}}),a?k.ag.get("web-player.enhance.button_text_enhanced"):k.ag.get("web-player.enhance.button_text_not_enhanced")));return a?f:s.createElement(y.T,{id:"enhance-button",bodyText:k.ag.get("web-player.enhance.onboarding.enhance-playlist")},f)}},63962:(e,t,n)=>{n.d(t,{T:()=>k});var a=n(67294),i=n(73935),l=n(55914),r=n(28760),s=n(73012),o=n(99450),d=n(32648),c=n(23248);const u="iW5kFTiudWn9ItsTvZmz",m="OfNgl_iK7pi63fAi8USM",k=function({id:e,title:t,bodyText:n,buttonText:k,shouldScrollIntoView:v,children:p}){var S,y,b,g,N,E,f,h,T;const[F,R]=(0,c.z)(`onboarding-dismissed:${e}`,!1),{scrollNodeRef:C}=(0,a.useContext)(d.VX),[I,w]=(0,a.useState)(null),[A,L]=(0,a.useState)(null),D=(0,a.useRef)(!1);(0,a.useEffect)((()=>{v&&A&&!D.current&&(D.current=!0,A.scrollIntoView({behavior:"smooth",block:"center"}))}),[v,A]);const U=(0,a.useCallback)((()=>R(!0)),[R]);(0,a.useEffect)((()=>{if(F)return()=>{};const e=e=>{"Escape"===e.key&&U()},t=e=>{e.target instanceof Node&&(null==A||!A.contains(e.target))&&U()};return window.addEventListener("keydown",e,!0),window.addEventListener("click",t,!0),()=>{window.removeEventListener("keydown",e,!0),window.removeEventListener("click",t,!0)}}),[F,U,A]);const P=null===(S=C.current)||void 0===S?void 0:S.getBoundingClientRect(),x=null==I?void 0:I.getBoundingClientRect();return a.createElement(a.Fragment,null,a.createElement("span",{ref:w},p),!F&&x&&(0,i.createPortal)(a.createElement("div",{className:u,style:{top:(null!==(y=null==x?void 0:x.top)&&void 0!==y?y:0)-((null!==(b=null==P?void 0:P.top)&&void 0!==b?b:0)-(null!==(g=null===(N=C.current)||void 0===N?void 0:N.scrollTop)&&void 0!==g?g:0)),left:(null!==(E=null==x?void 0:x.left)&&void 0!==E?E:0)-((null!==(f=null==P?void 0:P.left)&&void 0!==f?f:0)-(null!==(h=null===(T=C.current)||void 0===T?void 0:T.scrollLeft)&&void 0!==h?h:0)),width:null==x?void 0:x.width,height:null==x?void 0:x.height},ref:L},a.createElement(l.J,{popoverTitle:t,arrow:l.J.bottom,colorSet:"announcement",className:m},a.createElement(r.Dy,{as:"p",paddingBottom:k&&s.g4V},n),k&&a.createElement(o.D,{buttonSize:"sm",colorSet:"invertedLight",onClick:U},k))),C.current||document.body))}},36967:(e,t,n)=>{n.r(t),n.d(t,{default:()=>At});var a=n(67294),i=n(46458),l=n(52883),r=n(69518),s=n.n(r),o=n(28760),d=n(87577),c=n(20657),u=n(42038),m=n(83056);const k=(e,t,n)=>({event:e,app_startup_id:null,ad_playback_id:null,ad_id:String(t),lineitem_id:String(n),creative_id:String(t),ad_format:"sponsored playlist",slot:null,in_focus:null,username:null,jsondata:JSON.stringify({platform:"WebPlayer",revision:"1.0.0"})}),v=({clickTracking:e,clickThrough:t,thirdPartyImpression:n,impression:l,logoUrl:r,advertiserName:s,creativeId:d,lineItemId:u})=>{const v=(0,i.I0)(),[p,S]=(0,a.useState)(!1);return(0,a.useEffect)((()=>(v((0,m.Vw)()),v((0,m.kh)(k("event_viewed",d,u))),()=>{v((0,m.AG)())})),[v,d,u]),a.createElement("div",{className:"sponsor-container"},a.createElement(o.Dy,{variant:"minuet",className:"sponsor-text","data-ta-id":"sponsor-text"},c.ag.get("playlist.presented_by",s)),a.createElement("div",{className:"sponsor-logo"},a.createElement("a",{draggable:!1,className:"sponsor-logo__link",target:"_blank",href:t,onClick:()=>{v((0,m.kh)(k("event_clicked",d,u))),S(!0)}},a.createElement("img",{draggable:!1,className:"sponsor-logo__image",src:r,alt:s,"data-ta-id":"sponsor-logo"})),a.createElement("img",{className:"sponsor-logo__imp-pixel",src:l,alt:""}),n&&a.createElement("img",{className:"sponsor-logo__3p-imp-pixel",src:n,alt:""}),p&&a.createElement("img",{className:"sponsor-logo__click-img-pixel",src:e,alt:""})))},p=({playlistUri:e})=>{const t=(0,i.I0)(),n=(0,i.v9)((t=>t.ads.sponsoredPlaylist.previewAd||t.ads.sponsoredPlaylist.sponsoredPlaylist.get(e)));return(0,a.useEffect)((()=>{n||t((0,m.fd)(e))}),[t,e,n]),n?a.createElement("div",null,a.createElement(v,n)):null},S=({playlistUri:e})=>{const t=(0,i.I0)(),n=(0,i.v9)((e=>e.ads.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships"))),l=(0,i.v9)((e=>e.ads.sponsoredPlaylist.previewAd));(0,a.useEffect)((()=>{n||t((0,m.z8)())}),[t,n]);const r=l||n&&((e,t)=>{const n=Date.now()/1e3,a=e.split(":"),i=a[a.length-1];return t.some((({playlistId:e,endTime:t,startTime:a})=>e===i&&n>=a&&n<(t||n+1)))})(e,n);return r?a.createElement(p,{playlistUri:e}):null};var y=n(90110),b=n(95661),g=n(35410),N=n(20534),E=n(70369),f=n(19565),h=n(98778),T=n(61048),F=n(66668),R=n(99450),C=n(4383);const I="hOOwEKqNuXrNvOCB1SgZ",w="csEdkIN9z2LjJIuZraqz",A=({uri:e})=>{const[t,n]=(0,C.Z)(e),i=(0,l.k6)(),r=(0,a.useCallback)((()=>{n(!1),i.replace("/collection/playlists")}),[i,n]);return a.createElement("div",{className:I},a.createElement(F.l,{iconSize:64}),a.createElement("div",{className:w},a.createElement(o.Dy,{as:"p",variant:"canon"},c.ag.get("forbidden-page.title")),a.createElement(o.Dy,{as:"p",variant:"mesto"},c.ag.get("forbidden-page.description"))),t&&a.createElement(R.D,{colorSet:"invertedLight",onClick:r},c.ag.get("remove_from_your_library")))};var L=n(84200),D=n(1663),U=n(55120),P=n(2751),x=n(1838),O=n(35213),_=n(22423),M=n(78462),B=n(34813),V=n(69846),j=n(99191),Z=n(1169),Q=n(56802),z=n(4236),K=n(49207),G=n(29255),W=n(30947),X=n(11414),q=n(55911),J=n(20246),H=n(18061),$=n(32648),Y=n(43620),ee=n(50062),te=n(84242),ne=n(72138),ae=n(73893),ie=n(97194),le=n(28248),re=n(42922),se=n(28018),oe=n(49961);const de=new Set(M.RJ),ce=new Set([]),ue={column:null,order:le.kn.NONE},me=a.memo((({ariaLabel:e,nrTracks:t,playlistUri:n,rankType:i,scrollToUid:l,usePlayContextItem:r,tracklistDomRef:s})=>{const o=(0,a.useContext)(ne.ZF),{filter:d,setFilter:c}=(0,a.useContext)(_.fo),u=(0,a.useRef)(null),[m,k]=(0,a.useState)(t),v=(0,a.useCallback)((()=>{u.current&&u.current.update()}),[]);(0,se.r)(n,v);const{sortState:p,setSortState:S}=(0,a.useContext)(M.Gb),y=(0,a.useCallback)((e=>{S((0,x.VK)(e,p))}),[p,S]);(0,a.useEffect)((()=>{u.current&&u.current.update()}),[p,d]),(0,a.useEffect)((()=>{S(ue),c("")}),[n,c,S]),(0,a.useEffect)((()=>{u.current&&l&&u.current.scrollToItem({uid:l})}),[l]),(0,a.useEffect)((()=>{u.current&&""===d&&u.current.scrollToFirstSelected()}),[d,m]);const b=(0,a.useCallback)((async(e,t)=>{const a=await o.getContents(n,{offset:e,limit:t,sort:(0,x._j)(p),filter:d,decorateFormatListData:!0});return a.totalLength!==m&&k(a.totalLength),a.items}),[n,o,m,p,d]),g="plays"===i,N=(0,a.useCallback)(((e,t)=>{var i,l,s;const o=(0,oe.X)(null===(i=e.album)||void 0===i?void 0:i.images,{desiredSize:40,desiredLabel:"small"});return a.createElement(le.h_,{key:t+e.uri,index:t,contextUri:n,uri:e.uri,uid:e.uid||void 0,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==o?void 0:o.url)||"",statusChange:null===(l=e.formatListAttributes)||void 0===l?void 0:l.status,showPlayCount:g,playCount:parseInt((null===(s=e.formatListAttributes)||void 0===s?void 0:s.rank)||"0",10),usePlayContextItem:r})}),[n,g,r]),E=(0,a.useMemo)((()=>g?[le.QD.INDEX,le.QD.TITLE,le.QD.PLAYS,le.QD.ALBUM,le.QD.DURATION]:[le.QD.INDEX,le.QD.TITLE,le.QD.ALBUM,le.QD.DURATION]),[g]),f=(0,a.useCallback)((e=>e.uri),[]),h=(0,a.useCallback)((e=>e.id),[]);return a.createElement(re.ZP,{value:"chart-tracklist"},a.createElement(le.Pv,{key:n,ariaLabel:e,hasHeaderRow:!0,columns:E,sortableColumns:o.getCapabilities().canSort?de:ce,sortState:p,onSort:y,renderRow:N,resolveUri:f,resolveUid:h,nrTracks:m,fetchTracks:b,limit:100,canFetchAllTracks:o.getCapabilities().canFetchAllTracks,outerRef:u,outerDomRef:s}))}));var ke=n(67154),ve=n.n(ke),pe=n(6479),Se=n.n(pe),ye=n(77082),be=n(83692),ge=n(51627);const Ne="x-contributorButton-ContributorButton",Ee=["uri","label"],fe=e=>{let{uri:t,label:n}=e,i=Se()(e,Ee);const{onCopyLink:l}=(0,ge.l)({uri:t,permissionLevel:"CONTRIBUTOR"});return a.createElement(be.w,{label:n},a.createElement(ye.t,ve()({},i,{className:Ne,onClick:l,iconSize:32})))};var he=n(40786),Te=n(94184),Fe=n.n(Te),Re=n(10149),Ce=n(728),Ie=n(61633),we=n(3775);n(98984);const Ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"term"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]},Le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearchAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]}}]}}]},De={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearchArtist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"following"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]};var Ue=n(7438),Pe=n(64005);const xe={filterInputContainer:"WIBrW3xa1aqQaLWZhp5U",filterInput:"l42JW4EP_5CU1Ba7jYIc",overlay:"yGtsjz2AjzhRMTphe2BO",searchIconContainer:"TuU4JSqLFdjOeTaHaDmA",searchIcon:"zOwN1vkkgX9JIvE81_B2",clearButton:"eWEdt6BMCWITt5najIg_"},Oe=a.memo((({placeholder:e,onChange:t=(()=>{}),onFocus:n=(()=>{})})=>{const[i,l]=(0,a.useState)(""),r=(0,a.useRef)(null),s=(0,Pe.y)((e=>{t(e)}),200),d=(0,a.useCallback)((e=>{const t=e.currentTarget.value;l(t),s(t)}),[l,s]),u=(0,a.useCallback)((()=>{r.current&&r.current.focus(),l(""),t("")}),[l,t]),m=(0,a.useCallback)((e=>{"Escape"===e.key&&i&&u()}),[i,u]);return a.createElement("div",{className:xe.filterInputContainer,role:"search"},a.createElement(o.Dy,{as:"input",variant:"mesto",ref:r,className:Fe()(xe.filterInput),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:e,onChange:d,onKeyDown:m,onFocus:n,value:i}),a.createElement("div",{className:xe.overlay},a.createElement("span",{className:xe.searchIconContainer},a.createElement(Ue.j,{iconSize:16,className:xe.searchIcon,"aria-hidden":"true"})),i&&a.createElement("button",{className:xe.clearButton,onClick:u,"aria-label":c.ag.get("search.a11y.clear-input")},a.createElement(Re.k,{iconSize:16,className:xe.filterInputIcon}))))}));var _e=n(59713),Me=n.n(_e),Be=n(7073),Ve=n(42781);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Qe=e=>{var t;return{uid:e.uid,uri:e.track.uri,name:e.track.name,isPlayable:e.track.playability.playable,isMOGEFRestricted:e.track.contentRating.label===Be.KS.NineteenPlus,isExplicit:e.track.contentRating.label===Be.KS.Explicit,album:{id:e.track.album.id,name:e.track.album.name,imgUrl:(null===(t=e.track.album.coverArt)||void 0===t?void 0:t.sources[0].url)||"",uri:e.track.album.uri},artists:e.track.artists.items.map((e=>({id:e.id,uri:e.uri,name:e.profile.name})))}},ze=e=>({uid:e.uid,uri:e.episode.uri,name:e.episode.name,isPlayable:e.episode.playability.playable,isMOGEFRestricted:e.episode.contentRating.label===Be.KS.NineteenPlus,isExplicit:e.episode.contentRating.label===Be.KS.Explicit,imgUrl:e.episode.coverArt.sources[0].url,podcast:{id:e.episode.podcast.id,uri:e.episode.podcast.uri,name:e.episode.podcast.name}}),Ke=({renderRow:e,searchResults:t})=>a.createElement(le.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:le.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[le.QD.TITLE,le.QD.ALBUM,le.QD.ADD],testID:"playlist-inline-curation-loaded-results"}),Ge=({renderRow:e,searchResults:t})=>a.createElement(le.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:le.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[le.QD.TITLE,le.QD.ALBUM,le.QD.ADD]}),We=({renderRow:e,searchResults:t})=>{const n=t.filter((e=>void 0!==e.album)),i=t.filter((e=>e.uri.includes("album")));return a.createElement("div",null,a.createElement(o.Dy,{as:"p",variant:"cello",className:P.Z.artistResultListTitle},c.ag.get("playlist.curation.popular_songs")),a.createElement(le.Pv,{ariaLabel:c.ag.get("playlist.curation.popular_songs"),renderRow:e,rowPlaceholder:le.hU,nrTracks:n.length,tracks:n,resolveUri:e=>e.uri,columns:[le.QD.TITLE,le.QD.ALBUM,le.QD.ADD]}),a.createElement(o.Dy,{as:"p",variant:"cello",className:P.Z.artistResultListTitle},c.ag.get("playlist.curation.albums")),a.createElement(le.Pv,{ariaLabel:c.ag.get("playlist.curation.albums"),renderRow:e,rowPlaceholder:le.hU,nrTracks:i.length,tracks:i,resolveUri:e=>e.uri,columns:[le.QD.TITLE,le.QD.ALBUM,le.QD.ADD]}))},Xe=({renderRow:e,searchResults:t})=>a.createElement(le.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:le.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[le.QD.TITLE,le.QD.ALBUM,le.QD.ADD]}),qe=({renderRow:e,searchResults:t})=>a.createElement(le.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:le.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[le.QD.TITLE,le.QD.ALBUM,le.QD.ADD]}),Je=({renderRow:e,searchResults:t})=>a.createElement(le.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:le.hU,nrTracks:t.length,tracks:t,resolveUri:e=>e.uri,columns:[le.QD.TITLE,le.QD.ALBUM,le.QD.ADD]});var He=n(7739);const $e={artistIcon:"Gt26Myd3dsGrVxW9ArZW",artistImagePlaceholder:"MLeLx_C7OnluWx8e9S88",podcastIcon:"T6tkS1BFfNkJ4BNUf9Br",albumIcon:"p8hNoO_LkxYLrEJ2cCSF",searchResultTitle:"FETh66aSunr0whiLsmk4",searchResultContainer:"KAuXIg8XQPSRMRqTjvAD",rowContent:"NB2fhkFoxu_ZCQlzHhha",searchResultTitleContainer:"saXvuHxalPYz3i36v1Ve",seeMoreButton:"DhMJGiOreiPrq04sm2AF",seeMoreRowButton:"gkgL9fB_pyDL75m9HKdu"},Ye=({searchResult:e,index:t,isRTL:n,onClick:i})=>{var l;const r=null===(l=e.coverArt)||void 0===l?void 0:l.sources[0].url;return a.createElement(He.RX,{className:$e.searchResultContainer,rowIndex:t,"aria-selected":!1},a.createElement("div",{"aria-label":`${c.ag.get("artist-page.tracks.seemore")} ${e.name}`,className:$e.seeMoreRowButton,onClick:i},a.createElement(He.id,{columnIndex:0,className:$e.rowContent},void 0!==r?a.createElement("img",{className:$e.albumIcon,src:e.coverArt.sources[0].url,alt:e.name}):null,a.createElement("div",{className:$e.searchResultTitleContainer},a.createElement(o.Dy,{as:"p",className:$e.searchResultTitle,variant:"ballad"},e.name),a.createElement(o.Dy,{as:"p",variant:"mesto",semanticColor:"textSubdued"},c.ag.get("album")))),a.createElement(He.id,{columnIndex:1}),a.createElement(He.id,{columnIndex:2},a.createElement("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.name}`,className:$e.seeMoreButton,onClick:i},n?a.createElement(Ie.e,{className:$e.icon}):a.createElement(Ce.V,{className:$e.icon})))))};var et=n(5843);const tt=({size:e})=>a.createElement("div",{className:$e.artistImagePlaceholder},a.createElement(et.a,{iconSize:e})),nt=({searchResult:e,index:t,isRTL:n,onClick:i})=>{var l;const r=null===(l=e.visuals.avatarImage)||void 0===l?void 0:l.sources[0].url;return a.createElement(He.RX,{className:$e.searchResultContainer,rowIndex:t,"aria-selected":!1},a.createElement("div",{"aria-label":`${c.ag.get("artist-page.tracks.seemore")} ${e.profile.name}`,className:$e.seeMoreRowButton,onClick:i,"data-testid":"playlist-inline-curation-artist"},a.createElement(He.id,{columnIndex:0,className:$e.rowContent},void 0!==r?a.createElement("img",{className:$e.artistIcon,src:r,alt:e.profile.name}):a.createElement(tt,{size:16}),a.createElement("div",{className:$e.searchResultTitleContainer},a.createElement(o.Dy,{as:"p",className:$e.searchResultTitle,variant:"ballad"},e.profile.name),a.createElement(o.Dy,{as:"p",variant:"mesto",semanticColor:"textSubdued"},c.ag.get("artist")))),a.createElement(He.id,{columnIndex:1}),a.createElement(He.id,{columnIndex:2},a.createElement("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.profile.name}`,className:$e.seeMoreButton,onClick:i},n?a.createElement(Ie.e,{className:$e.icon}):a.createElement(Ce.V,{className:$e.icon})))))},at=({episode:{uid:e,uri:t,name:n,imgUrl:i,podcast:l,isPlayable:r,isMOGEFRestricted:s,isExplicit:o},contextUri:d,index:c,usePlayContextItem:u})=>a.createElement(le.YK,{uid:e,uri:t,isPlayable:r,isMOGEFRestricted:s,isExplicit:o,contextUri:d,name:n,imgUrl:i,index:c,podcast:l,usePlayContextItem:u}),it=({label:e,index:t,isRTL:n,onClick:i})=>a.createElement(He.RX,{className:$e.searchResultContainer,rowIndex:t,"aria-selected":!1},a.createElement("div",{"aria-label":e,className:$e.seeMoreRowButton,onClick:i},a.createElement(He.id,{columnIndex:0,className:$e.rowContent},a.createElement(o.Dy,{as:"p",className:$e.searchResultTitle,variant:"ballad"},e)),a.createElement(He.id,{columnIndex:1}),a.createElement(He.id,{columnIndex:2},a.createElement("button",{"data-testid":"top-bar-forward-button","aria-label":e,className:$e.seeMoreButton,onClick:i},n?a.createElement(Ie.e,{className:$e.icon}):a.createElement(Ce.V,{className:$e.icon}))))),lt=({track:{uid:e,uri:t,album:n,name:i,artists:l,isPlayable:r,isExplicit:s,isMOGEFRestricted:o},contextUri:d,index:c,usePlayContextItem:u})=>a.createElement(le.cp,{uid:e,uri:t,isPlayable:r,isMOGEFRestricted:o,isExplicit:s,contextUri:d,name:i,imgUrl:n.imgUrl,index:c,album:n,artists:l,usePlayContextItem:u});function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let ot;!function(e){e[e.SEARCH=0]="SEARCH",e[e.ALBUM=1]="ALBUM",e[e.ARTIST=2]="ARTIST",e[e.PODCAST=3]="PODCAST",e[e.PLAYLIST=4]="PLAYLIST",e[e.ALBUMRESULTS=5]="ALBUMRESULTS",e[e.ARTISTRESULTS=6]="ARTISTRESULTS",e[e.PODCASTRESULTS=7]="PODCASTRESULTS",e[e.EPISODERESULTS=8]="EPISODERESULTS",e[e.TRACKRESULTS=9]="TRACKRESULTS"}(ot||(ot={}));const dt=(e,t)=>"GO_BACK"===t.type?1===e.breadcrumbs.length?e:e=st(st({},e),{},{breadcrumbs:e.breadcrumbs.slice(0,e.breadcrumbs.length-1)}):"NAV_TO_ENTITY"===t.type?e=st(st({},e),{},{breadcrumbs:[...e.breadcrumbs,t.level]}):("NAV_TO_RESULTS"===t.type?e=st(st({},e),{},{breadcrumbs:[...e.breadcrumbs,t.level]}):"CHANGE_TERM"===t.type&&(e={term:t.term,breadcrumbs:[{navType:ot.SEARCH,term:t.term,title:""}]}),e),ct=({resultList:e,level:t,isRTL:n,playlistUri:i,navToResults:l,navToEntity:r,term:d})=>{var u;let m=e;const k=(e=>e.filter((({uri:e})=>s().isTrack(e)||s().isEpisode(e))).map((({uri:e,uid:t})=>({type:s().isTrack(e)?Ve.p.TRACK:Ve.p.EPISODE,uri:e,uid:t,provider:null}))))(e),{usePlayContextItem:v}=(0,te.n)({uri:`${i.replace("spotify:","spotify:internal:recs:")}:${encodeURIComponent(d)}:${null!==(u=null==t?void 0:t.navType)&&void 0!==u?u:0}`,pages:[{items:k}]},{featureIdentifier:"search"}),p=(0,a.useCallback)(((e,t)=>e?void 0!==e.profile?a.createElement(nt,{isRTL:n,index:t,key:e.uri,searchResult:e,onClick:()=>{r({navType:ot.ARTIST,uri:e.uri,title:e.profile.name})}}):void 0!==e.podcast?a.createElement(at,{key:e.uri,index:t,episode:e,contextUri:i.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:v}):void 0!==e.album?a.createElement(lt,{key:e.uri,index:t,track:e,contextUri:i.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:v}):e.isSeeAllXRow?a.createElement(it,{isRTL:n,index:t,label:e.label,key:e.uri,onClick:()=>{l({navType:e.type,term:d,title:e.label})}}):e.uri.includes("album")?a.createElement(Ye,{index:t,key:e.uri,isRTL:n,searchResult:e,onClick:()=>{r({navType:ot.ALBUM,uri:e.uri,title:e.name})}}):null:null),[n,r,l,i,d,v]);if(""===d)return a.createElement("div",{className:P.Z.emptySearchTermContainer});if(!e||0===(null==e?void 0:e.length))return a.createElement("div",{className:P.Z.emptyStateContainer},a.createElement(o.Dy,{as:"h1",variant:"canon"},c.ag.get("search.empty-results-title",d)),a.createElement(o.Dy,{as:"p",variant:"mesto"},c.ag.get("search.empty-results-text")));if((null==t?void 0:t.navType)===ot.SEARCH){const t=[{type:ot.ARTISTRESULTS,label:c.ag.get("playlist.curation.see_all_artists"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-artists"},{type:ot.ALBUMRESULTS,label:c.ag.get("playlist.curation.see_all_album"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-albums"},{type:ot.TRACKRESULTS,label:c.ag.get("playlist.curation.see_all_songs"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-songs"}];return m=[...e,...t],a.createElement(Ke,{renderRow:p,searchResults:m})}return(null==t?void 0:t.navType)===ot.ALBUM?a.createElement(Ge,{renderRow:p,searchResults:m}):(null==t?void 0:t.navType)===ot.ARTIST?a.createElement(We,{renderRow:p,searchResults:m}):(null==t?void 0:t.navType)===ot.ALBUMRESULTS?a.createElement(Xe,{renderRow:p,searchResults:m}):(null==t?void 0:t.navType)===ot.TRACKRESULTS?a.createElement(qe,{renderRow:p,searchResults:m}):(null==t?void 0:t.navType)===ot.ARTISTRESULTS?a.createElement(Je,{renderRow:p,searchResults:m}):null},ut=({playlistUri:e,onCurationModeChange:t})=>{const[n,l]=(0,a.useState)([]),[r,d]=(0,a.useState)(),u=(0,i.v9)((e=>e.ui.textDirection.isRTL)),{level:m,changeTerm:k,goBack:v,navToEntity:p,navToResults:S,term:y}=(()=>{const[e,t]=(0,a.useReducer)(dt,{term:"",breadcrumbs:[]}),{breadcrumbs:n,term:i}=e;return{changeTerm:e=>{t({type:"CHANGE_TERM",term:e})},level:n[n.length-1]||null,goBack:()=>{t({type:"GO_BACK"})},navToEntity:e=>{t({type:"NAV_TO_ENTITY",level:e})},navToResults:e=>{t({type:"NAV_TO_RESULTS",level:e})},term:i}})(),{request:b}=(0,a.useContext)(we.Ax),g=(0,a.useCallback)((async e=>{const t=await b(Ae,{term:e});return(null==t?void 0:t.data.search)||null}),[b]),N=(0,a.useCallback)((async e=>{const t=await b(Le,{uri:e,offset:0,limit:100});return(null==t?void 0:t.data.album)||null}),[b]),E=(0,a.useCallback)((async e=>{const t=await b(De,{uri:e,offset:0,limit:100});return(null==t?void 0:t.data.artist)||null}),[b]);return(0,a.useEffect)((()=>{let e=!0;return(async()=>{var t,n,a;if(m)switch(m.navType){case ot.SEARCH:try{if(!r||r.query!==y&&""!==y){const t=await g(y);e&&d(t)}else""===y&&l([])}catch{l([])}if(r){const e=(e=>{var t,n;const a=null!==(t=null==e||null===(n=e.topResults)||void 0===n?void 0:n.items)&&void 0!==t?t:[];return a.length?a.reduce(((t,n)=>{const a=n.uri,i=s().from(a);if(a&&i)switch(s().from(a)&&s().from(a).type){case s().Type.ALBUM:{var l;const n=((e,t)=>t.find((t=>t.uri===e)))(a,(null==e||null===(l=e.albums)||void 0===l?void 0:l.items)||[]);n&&t.push(n);break}case s().Type.ARTIST:{var r;const n=((e,t)=>t.find((t=>t.uri===e)))(a,(null==e||null===(r=e.artists)||void 0===r?void 0:r.items)||[]);n&&t.push(n);break}case s().Type.TRACK:{var o;const n=((e,t)=>t.find((t=>t.track.uri===e)))(a,(null==e||null===(o=e.tracks)||void 0===o?void 0:o.items)||[]);n&&t.push(Qe(n));break}case s().Type.EPISODE:{var d;const n=((e,t)=>t.find((t=>t.episode.uri===e)))(a,(null==e||null===(d=e.episodes)||void 0===d?void 0:d.items)||[]);n&&t.push(ze(n));break}}return t}),[]):[]})(r);l(e)}break;case ot.ARTISTRESULTS:l(null==r||null===(t=r.artists)||void 0===t?void 0:t.items);break;case ot.ALBUMRESULTS:l(null==r||null===(n=r.albums)||void 0===n?void 0:n.items);break;case ot.TRACKRESULTS:{var i;const e=null==r||null===(i=r.tracks)||void 0===i?void 0:i.items;null!=e&&e.length&&l(e.map((e=>Qe(e))));break}case ot.EPISODERESULTS:{var o;const e=null==r||null===(o=r.episodes)||void 0===o?void 0:o.items;null!=e&&e.length&&l(e.map((e=>ze(e))));break}case ot.ALBUM:try{const t=await N(m.uri);e&&l((e=>{const t={uri:e.uri,id:e.id,name:e.name,coverArt:e.coverArt};return e.tracks.items.map((e=>Ze(Ze({},e),{},{track:Ze(Ze({},e.track),{},{album:t})})))})(t).map((e=>Qe(e))))}catch{l([])}break;case ot.ARTIST:try{const t=await E(m.uri);e&&l((a=t).discography?[...a.discography.topTracks.items.map((e=>Qe(e))),...a.discography.popularReleases.items.map((e=>{const{uri:t,name:n,coverArt:{sources:a}}=e.releases.items[0];return{uri:t,name:n,coverArt:{sources:a}}}))]:[])}catch{l([])}}})(),()=>{e=!1}}),[m,g,N,E,y,r]),a.createElement(a.Fragment,null,a.createElement("section",{className:P.Z.playlistInlineCurationSection},a.createElement("div",{className:P.Z.playlistInlineCurationWrapper},a.createElement(o.Dy,{as:"h1",className:P.Z.playlistInlineCurationTitle,variant:"canon"},c.ag.get("playlist.curation.title")),a.createElement(a.Suspense,{fallback:null},a.createElement(Oe,{placeholder:c.ag.get("playlist.curation.search_placeholder"),onFocus:()=>{t(!0)},onChange:e=>{k(e)}}))),a.createElement("button",{className:P.Z.playlistInlineCurationCloseButton,onClick:()=>t(!1)},a.createElement(Re.k,{className:P.Z.closeIcon,"aria-label":c.ag.get("close")}))),null!==m&&m.navType!==ot.SEARCH?a.createElement("button",{className:P.Z.playlistInlineCurationBackButton,onClick:()=>v()},u?a.createElement(Ce.V,{"aria-label":c.ag.get("navbar.go-back"),className:Fe()([P.Z.icon,P.Z.iconRight])}):a.createElement(Ie.e,{"aria-label":c.ag.get("navbar.go-back"),className:Fe()([P.Z.icon,P.Z.iconLeft])}),a.createElement(o.Dy,{as:"p",variant:"cello"},m.title)):null,a.createElement("div",{className:P.Z.searchResultListContainer,"data-testid":"playlist-inline-curation-results"},a.createElement(ct,{playlistUri:e,term:y,level:m,resultList:n,navToEntity:p,navToResults:S,isRTL:u})))};var mt=n(35308),kt=n(82760);const vt="multiUserAttributionDisplayNamesV2";var pt=n(59916);function St(e){return(0,pt.MW)(e)||(0,pt.JF)(e)}const yt=new Set(M.zq),bt=new Set([]),gt=a.memo((({ariaLabel:e,nrTracks:t,playlistUri:n,playlistName:l,isCollaborative:r,isMixedMedia:o,isLive:d,isBlend:m,hasDateAdded:k,canEdit:v,scrollToUid:p,feedbackPath:S,deleteFeedbackPath:y,usePlayContextItem:b,tracklistRef:g,tracklistDomRef:N,nrCollaborators:E=1,canRemove:f})=>{const h=(0,a.useContext)(ne.ZF),{filter:T}=(0,a.useContext)(_.fo),{sortState:F,setSortState:R}=(0,a.useContext)(M.Gb),[C,I]=(0,a.useState)(t),w=(0,a.useRef)((()=>{})),[A,L]=(0,a.useState)([]),D=(0,a.useRef)({}),U=(0,i.I0)(),P=(0,a.useCallback)((()=>{null!=g&&g.current&&g.current.update()}),[g]);(0,se.r)(n,P);const O=(0,a.useCallback)((e=>{R((0,x.VK)(e,F))}),[F,R]),B=(0,a.useCallback)((e=>{w.current(),h.remove(n,e)}),[h,n]),V=(0,a.useCallback)(((e,t,n=!1)=>{f&&(w.current=t,e.length>1&&!n?L(e):B(e))}),[f,B]);(0,a.useEffect)((()=>{null!=g&&g.current&&g.current.update()}),[F,T,g]),(0,a.useEffect)((()=>{null!=g&&g.current&&p&&g.current.scrollToItem({uid:p})}),[p,g]),(0,a.useEffect)((()=>{null!=g&&g.current&&""===T&&g.current.scrollToFirstSelected()}),[T,C,g]);const Z=(0,a.useCallback)((async(e,t)=>{const a=await h.getContents(n,{offset:e,limit:t,sort:(0,x._j)(F),filter:T,decorateFormatListData:!!S||d||m}),i=a.items.filter(((t,n)=>null!==t||(D.current[n+e]=!0,!1))),l=Object.keys(D.current).length;return a.totalLength-l!==C&&I(a.totalLength-l),i}),[n,h,C,F,T,S,d,m]),Q=(0,a.useCallback)(((e,t,a)=>{if(null==g||!g.current)return;const i=g.current.getRows();i[t].id&&(a===kt.W.Before?h.move(n,e,{before:i[t].id}):h.move(n,e,{after:i[t].id}))}),[n,h,g]),z=(0,a.useCallback)(((e,t,a)=>{if(null==g||!g.current)return;const i=g.current.getRows();i[t].id&&(a===kt.W.Before?U((0,u.jV)(n,e,{before:i[t].id})):U((0,u.jV)(n,e,{after:i[t].id})))}),[n,U,g]),K=(0,a.useCallback)(((e,t)=>{var i,c,u,k,p,g;let N,T;const R=!!(0,pt.JF)(e)&&e.podcastSubscription.isUserSubscribed;if((0,pt.JF)(e))N=e.show,T=e.images.concat(e.show.images);else if((0,pt.MW)(e)){var C;N=e.album,T=null===(C=e.album)||void 0===C?void 0:C.images}const I=(0,oe.X)(T,{desiredSize:40,desiredLabel:"small"});let w=[];v&&F.order===le.kn.NONE&&(w=[j.aN[s().Type.TRACK],j.aN[s().Type.LOCAL],j.aN[s().Type.EPISODE]]);const A="1"===(null==e||null===(i=e.formatListAttributes)||void 0===i?void 0:i["dislike-feedback-selected"]);let L=!1;(0,pt.JF)(e)&&e.podcastSubscription.isPaywalled&&!R?L=!0:St(e)&&(L=e.isPlayable&&!A);const D=m&&((e,t)=>{var n,a,i,l;const r=[];if(!t)return r;const o=t[vt]?vt:"multiUserAttributionDisplayNames",d=null==t||null===(n=t[o])||void 0===n?void 0:n.split(","),c=null==t||null===(a=t.multiUserAttributionImages)||void 0===a?void 0:a.split(",");if(!d||!c)return r;const u=(null==t||null===(i=t.multiUserAttributionUsernamesV2)||void 0===i?void 0:i.split(","))||[],m=(null==t||null===(l=t.multiUserAttributionType)||void 0===l?void 0:l.split(","))||[],k=d.length;for(let e=0;e<k;e++){const t=u[e],n=t&&s().profileURI(t).toURI();r.push({username:t,uri:n,displayName:d[e],images:(v=c[e],v.length>1?[{url:v}]:[]),recsplanation:m[e]})}var v;return r.sort(((t,n)=>t.username?t.username===(null==e?void 0:e.username)?-1:n.username===(null==e?void 0:e.username)?1:0:0))})(e.addedBy,null==e?void 0:e.formatListAttributes)||e.addedBy&&[e.addedBy]||[];return a.createElement(le.dx,{key:t+e.uri,index:t,playIndex:null!==(c=e.playIndex)&&void 0!==c?c:void 0,contextUri:n,uri:e.uri,uid:null!==(u=e.uid)&&void 0!==u?u:void 0,id:e.id,isPlayable:L,duration_ms:St(e)?e.duration.milliseconds:0,isPaywalled:!!(0,pt.JF)(e)&&e.podcastSubscription.isPaywalled,isUserSubscribed:R,name:St(e)?e.name:"",artists:(0,pt.MW)(e)?e.artists:void 0,albumOrShow:N,isExplicit:(0,pt.MW)(e)&&e.isExplicit,isCollaborative:r,nrCollaborators:E,isMixedMedia:o,isLocal:(0,pt.MW)(e)&&e.isLocal,addedBy:D,hasDecoratedAddedBy:h.getCapabilities().canDecorateAddedBy,dateAdded:e.addedAt,release_date:(0,pt.JF)(e)&&e.release.date||"",isMOGEFRestricted:(0,pt.MW)(e)&&e.is19PlusOnly,type:e.type,imgUrl:(null==I?void 0:I.url)||"",onMove:Q,onInsert:z,usePlayContextItem:b,allowedDropTypes:w,feedbackPath:S,feedbackUri:null==e||null===(k=e.formatListAttributes)||void 0===k?void 0:k.feedback_uri,deleteFeedbackPath:y,isDisliked:A,playlistName:l,isLive:d,isBlend:m,ticketingSiteURL:null==e||null===(p=e.formatListAttributes)||void 0===p?void 0:p.ticketingSite,eventDate:null==e||null===(g=e.formatListAttributes)||void 0===g?void 0:g.eventDate,canRemove:f})}),[v,f,F,n,r,E,o,h,Q,z,b,S,y,l,d,m]);return a.createElement(a.Fragment,null,a.createElement(re.ZP,{value:"playlist-tracklist"},a.createElement(le.Pv,{testID:"playlist-tracklist",key:n,ariaLabel:e,hasHeaderRow:!0,columns:(0,x.RG)(r,o,k,d,m,E),sortableColumns:h.getCapabilities().canSort?yt:bt,sortState:F,onSort:O,onRemove:V,renderRow:K,resolveUri:e=>e.uri,resolveUid:e=>e.id,nrTracks:C,fetchTracks:Z,limit:100,canFetchAllTracks:h.getCapabilities().canFetchAllTracks,outerRef:g,outerDomRef:N})),a.createElement(mt.h,{title:c.ag.get("playlist.remove_from_playlist",l),isOpen:A.length>0,tracks:A,onClose:e=>{e.stopPropagation(),L([])},onRemove:B}))}));var Nt=n(21770),Et=n(42714),ft=n(27826),ht=n(61634);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Rt=a.memo((({playlistUri:e,playlistLength:t})=>{const{tracks:n,refresh:i}=((e,t=10)=>{const n=2*t,i=3*t,l=(0,a.useRef)(0),[r,s]=(0,a.useState)(e),[o,d]=(0,a.useState)([]),c=(0,a.useRef)([]),u=(0,a.useContext)(Et.Z);(0,a.useEffect)((()=>{const t=u.getEvents(),n=t=>{t.data.uri===e&&d((e=>e.filter((e=>t.data.items.every((t=>t.uri!==e.uri))))))};return t.addListener(ht.XL.OPERATION_COMPLETE,n),()=>{t.removeListener(ht.XL.OPERATION_COMPLETE,n)}}),[u,e]),(0,a.useEffect)((()=>(d([]),s(e),c.current=[],l.current=l.current+1,()=>{l.current=l.current+1})),[e]),(0,a.useEffect)((()=>{if(o.length<n){const e=Math.min(n,i-o.length),t=l.current;u.getRecommendedTracks(r,c.current,e).then((n=>{if(t!==l.current)return;const a=n.map((e=>(null==e?void 0:e.uri)&&ft.o.from(e.uri).id)).filter((e=>null!==e));n.length<e&&c.current.length?c.current=[]:c.current=[...c.current,...a],d((e=>[...e,...n]))}))}}),[n,i,u,r,o.length]);const m=(0,a.useCallback)((()=>{d((e=>e.slice(t)))}),[t]);return{tracks:o.slice(0,t),_bufferedTracks:o.slice(t),refresh:m}})(e),l=!t||0===t,{usePlayContextItem:r}=(0,te.n)({uri:e.replace("spotify:","spotify:internal:recs:"),pages:[{items:n.map((e=>Ft(Ft({},e),{},{provider:null,type:Ve.p.TRACK,uid:null})))}]},{featureIdentifier:"playlist_recommendations"}),s=(0,a.useCallback)(((t,n)=>a.createElement(le.cp,{key:t.uri,index:n,imgUrl:t.album.imageUrl,contextUri:e.replace("spotify","spotify:internal:recs"),uri:t.uri,isPlayable:!t.isMOGEFRestricted,name:t.name,artists:t.artists,album:Ft(Ft({},t.album),{},{imgUrl:t.album.imageUrl}),isExplicit:t.explicit,isMOGEFRestricted:t.isMOGEFRestricted,usePlayContextItem:r})),[e,r]),d=(0,a.useMemo)((()=>[le.QD.TITLE,le.QD.ALBUM,le.QD.ADD]),[]),u=(0,a.useCallback)((e=>e.uri),[]),m=(0,a.useCallback)((e=>e.id),[]),k=(0,a.useMemo)((()=>n.slice(0,Math.min(n.length,10))),[n]);return n.length>0?a.createElement("div",{className:P.Z.recommendedTrackList},a.createElement("div",{className:P.Z.top},a.createElement("div",{className:P.Z.header},a.createElement(o.Dy,{variant:"canon",className:P.Z.title},c.ag.get("playlist.extender.recommended.title")),a.createElement(o.Dy,{variant:"mesto",className:P.Z.subtitle},l?c.ag.get("playlist.extender.title.in.playlist"):c.ag.get("playlist.extender.songs.in.playlist")))),n.length?a.createElement(a.Fragment,null,a.createElement(le.Pv,{ariaLabel:c.ag.get("playlist.extender.recommended.header"),key:`${e}-recommended`,nrTracks:Math.min(n.length,10),rowPlaceholder:le.hU,tracks:k,renderRow:s,resolveUri:u,resolveUid:m,columns:d}),a.createElement(Nt.oM,{className:P.Z.refreshButton,onClick:i},c.ag.get("playlist.extender.refresh"))):null):null})),Ct=a.lazy((()=>Promise.all([n.e(1814),n.e(7405)]).then(n.bind(n,23186)))),It=(e,t,n,a,i,l,r)=>e?M.RJ:(0,x.RG)(t,n,a,i,l,r),wt=a.memo((({metadata:e,capabilities:t})=>{var n;const{uri:r,name:m,images:k,totalLength:v,isOwnedBySelf:p,isCollaborative:F,hasEpisodes:R,hasSpotifyTracks:I,canAdd:w,canRemove:A,canPlay:D,formatListData:V,hasDateAdded:ne,collaborators:ie}=e,le="chart"===(null==V?void 0:V.type),re="live-streams"===(null==V?void 0:V.type),se=["blend","celebrity-blend","friends-mix"].indexOf((null==V?void 0:V.type)||"")>-1,oe=!!R,de=(null==V?void 0:V.attributes)||{},ce=de.header_image_url_desktop||de.image_url||null,ue=w&&A,{inlineCurationModeIsOn:ke,handleInlineCurationModeChange:ve}=((e,t)=>{const n=(0,d.W6)(K.pg),[i,l]=(0,a.useState)(e&&0===t&&n),{scrollNodeChildRef:r}=(0,a.useContext)($.VX),s=(0,a.useRef)(i);return(0,a.useEffect)((()=>{const e=!s.current;var t;r&&e&&i&&(null===(t=r.current)||void 0===t||t.scrollIntoView({block:"end",behavior:"smooth"})),s.current=i}),[r,i]),{inlineCurationModeIsOn:i,handleInlineCurationModeChange:e=>{l(e)}}})(ue,v),pe=t.canFilter&&v>0,Se=t.canSort&&v>0,{filterBoxApiRef:ye,filterBoxDomRef:be,tracklistDomRef:ge,handleKeyDown:Ne}=(0,Z.Q)(),Ee=(0,z.k)(),Te=Ee&&v>0,{productState:Fe}=(0,i.v9)(G.Gg),Re=!!Fe&&parseInt(Fe.ads,10)>0,Ce=(0,i.I0)(),Ie=(0,l.k6)(),we="POP"!==Ie.action?new URLSearchParams(Ie.location.search).get("uid"):null,[Ae,Le]=(0,C.Z)(r),De=(0,Q.o)(),{filter:Ue}=(0,a.useContext)(_.fo),{sortState:Pe}=(0,a.useContext)(M.Gb),xe=(0,a.useRef)(null),[Oe]=k,_e=(0,Y.Z)(null!==ce?ce:(null==Oe?void 0:Oe.url)||null),{isPlaying:Me,togglePlay:Be,usePlayContextItem:Ve}=(0,te.n)((0,ae.U)(r,(0,x._j)(Pe),Ue),{featureIdentifier:"playlist"}),je=(0,a.useCallback)((()=>Be()),[Be]),Ze=(0,a.useCallback)((async()=>{De({targetUri:r,intent:Ae?"unsave":"save",type:"click"});try{await Le(!Ae)}catch{}}),[De,r,Ae,Le]),Qe=(0,a.useCallback)((e=>{const t=e.split(/[\r\n]+/g).map((e=>s().from(e))).filter((e=>s().isTrack(e)||s().isEpisode(e)||s().isLocalTrack(e)));if(t.length>0&&w){var n,a,i;const e=t.map((e=>e.toURI())),l=null===(n=xe.current)||void 0===n||null===(a=n.getSelected())||void 0===a||null===(i=a.slice(-1))||void 0===i?void 0:i[0],s={after:(null==l?void 0:l.uid)||"end"};Ce((0,u.jV)(r,e,s))}}),[w,Ce,r]);(0,ee.aw)(Qe);const ze=(0,a.useCallback)(((e,t)=>{const n=[...t[j.aN[s().Type.TRACK]]||[],...t[j.aN[s().Type.LOCAL]]||[],...t[j.aN[s().Type.EPISODE]]||[],...t[j.aN[s().Type.ALBUM]]||[]];n.length>0&&(Ce((0,u.jV)(r,n)),De({targetUri:r,intent:"add",type:"drop"}))}),[Ce,De,r]);return a.createElement(a.Suspense,{fallback:null},a.createElement(E.$,null,c.ag.get("playlist.page-title",m)),a.createElement(N.Z,{types:[j.aN[s().Type.TRACK],j.aN[s().Type.LOCAL],j.aN[s().Type.EPISODE],j.aN[s().Type.ALBUM]],onDrop:ze},a.createElement("section",{role:"presentation",className:P.Z.playlist,"data-testid":"playlist-page","data-test-uri":r,onKeyDown:Ne},a.createElement(he.s,{metadata:e,isPlaying:Me,togglePlay:je,backgroundColor:_e}),a.createElement("div",{className:P.Z.playlistContent},a.createElement(W.o,{backgroundColor:_e},a.createElement(W.F,null,D?a.createElement(U.$,{onClick:je,isPlaying:Me,size:q.qE.lg,uri:r,ariaPlayLabel:c.ag.get("playlist.a11y.play",m),ariaPauseLabel:c.ag.get("playlist.a11y.pause",m)}):null,p&&I&&a.createElement(H.F,{property:K.Up,renderNewExperience:()=>a.createElement(B.v,{uri:r})}),p?null:a.createElement(h.r,null,a.createElement(X.H,{isAdded:!!Ae,onClick:Ze,size:X.q.md})),Te?a.createElement(y.o,{uri:r,isFollowing:!!Ae,onFollow:Ze,size:y.q.md}):null,a.createElement(H.F,{property:K.bM,renderNewExperience:()=>{var t;return null!==(t=e.permissions)&&void 0!==t&&t.canAdministratePermissions?a.createElement(fe,{label:c.ag.get("permissions.invite-collaborators",m),uri:r}):null}}),a.createElement(J.y,{menu:a.createElement(g.X,{uri:r})},a.createElement(b.z,{label:c.ag.get("more.label.context",m)})),pe&&Se&&a.createElement("div",{className:P.Z.searchBoxContainer},a.createElement(a.Suspense,{fallback:null},a.createElement(T.K,{placeholder:c.ag.get("playlist.search_in_playlist"),filterBoxApiRef:ye,outerRef:be})),a.createElement(O.l,{columns:It(le,F,oe,ne,re,se,null!==(n=null==ie?void 0:ie.count)&&void 0!==n?n:1)})))),a.createElement("div",{className:"contentSpacing"},Re?a.createElement(S,{playlistUri:r}):null,v>0?a.createElement(a.Suspense,{fallback:null},le?a.createElement(me,{key:r,ariaLabel:m,nrTracks:v,playlistUri:r,rankType:de.rank_type||"",scrollToUid:we,usePlayContextItem:Ve,tracklistDomRef:ge}):a.createElement(gt,{key:r,ariaLabel:m,nrTracks:v,playlistUri:r,playlistName:m,hasDateAdded:ne,isCollaborative:F,isMixedMedia:oe,isLive:re,isBlend:se,canEdit:ue,scrollToUid:we,feedbackPath:de["dislike-endpoint"],deleteFeedbackPath:de["delete-endpoint"],usePlayContextItem:Ve,tracklistRef:xe,tracklistDomRef:ge,nrCollaborators:null==ie?void 0:ie.count,canRemove:A})):a.createElement(a.Suspense,{fallback:null},a.createElement(H.F,{property:K.pg,renderNewExperience:()=>null,renderOldExperience:()=>a.createElement(f.u,{message:c.ag.get("playlist.empty_state_subtitle"),title:c.ag.get("playlist.empty_state_title"),linkTo:"/browse/newreleases",linkTitle:c.ag.get("browse.new-releases"),renderInline:!0},a.createElement(L.Z,null))})),p?a.createElement(a.Suspense,{fallback:null},a.createElement(H.F,{property:K.pg,renderNewExperience:()=>ke?a.createElement(ut,{playlistUri:r,onCurationModeChange:ve}):a.createElement("button",{className:P.Z.seeMore,onClick:()=>{ve(!0)}},a.createElement(o.Dy,{as:"div",variant:"minuetBold"},c.ag.get("playlist.curation.find_more"))),renderOldExperience:()=>null})):null,p&&!ke&&Ee?a.createElement(Rt,{playlistUri:r,playlistLength:e.totalLength}):null)))))})),At=a.memo((()=>{const{playlistId:e}=(0,l.UO)(),{search:t}=(0,l.TH)(),n=(0,d.W6)(K.bM),r=(0,a.useContext)(ne.ZF).getCapabilities(),o=s().playlistV2URI((e||"").split("&")[0]).toURI(),{isAnonymous:u}=(0,i.v9)(G.Gg),{isEnhanced:m}=(0,V.U)(o);(0,a.useEffect)((()=>{const e=new URLSearchParams(t).get("prid");if(!u&&e){const t=`https://spclient.wg.spotify.com/algotorial-sharing-service/v1/shared?playlistId=${o}&sharedEntityUri=${e}`;(0,ie.k)().request(t,{method:"POST",authorize:!0,allowOffline:!0})}}),[o,u,t]);const k=(0,ne.ET)(o,{decorateFormatListData:!0,withSync:!0,hydrateCollaboratorsWithMembers:n});if(!k)return a.createElement(D.h,{hasError:!1,errorMessage:c.ag.get("error.not_found.title.playlist"),loadOffline:r.canModifyOffline});if(k.permissions&&!k.permissions.canView)return a.createElement(A,{uri:o});const v=a.createElement(M.kz,{uri:o},a.createElement(_.hz,{uri:o},a.createElement(wt,{metadata:k,capabilities:r})));return a.createElement(H.F,{property:K.Up,renderNewExperience:()=>m?a.createElement(M.kz,{uri:o},a.createElement(Ct,{metadata:k,capabilities:r})):v,renderOldExperience:()=>v})}))}}]);
//# sourceMappingURL=xpui-routes-playlist.js.map